{"remainingRequest":"C:\\Users\\LENOVO\\Desktop\\pc\\SportStaduim-master\\client\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\LENOVO\\Desktop\\pc\\SportStaduim-master\\client\\src\\components\\ReserveTheField.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\LENOVO\\Desktop\\pc\\SportStaduim-master\\client\\src\\components\\ReserveTheField.vue","mtime":1570895845000},{"path":"C:\\Users\\LENOVO\\Desktop\\pc\\SportStaduim-master\\client\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1609829569097},{"path":"C:\\Users\\LENOVO\\Desktop\\pc\\SportStaduim-master\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1609829561346},{"path":"C:\\Users\\LENOVO\\Desktop\\pc\\SportStaduim-master\\client\\node_modules\\vue-loader\\lib\\index.js","mtime":1609829562107}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport http from \"../http-common\";\nexport default {\n  name: 'reserveTheField',\n  components: {\n    },\n   data () {\n    return { \n      date: new Date().toISOString().substr(0, 10),\n      menu: false,\n       reservation: {\n        customerId: null,\n        fieldCategoryId: null,\n        timeTableId: null,\n        employeeId: null\n      },\n      fieldCategorys: null,\n      timeTables: null,\n      employees: null,\n      valid: false,\n      customerCheck: false,\n      customerName: null,\n    }\n  },\n  methods: {\n    /* eslint-disable no-console */\n     // ดึงข้อมูล fieldCategory ใส่ combobox\n    getFieldCategorys(){\n      http\n        .get(\"/fieldcate\")\n        .then(response =>{\n            this.fieldCategorys = response.data;\n            console.log(response.data)\n        })\n        .catch(e => {\n            console.log(e);\n        })\n    },\n     // ดึงข้อมูล employee ใส่ combobox\n    getEmployees(){\n      http\n        .get(\"/employee\")\n        .then(response => {\n          this.employees = response.data;\n          console.log(response.data);\n        })\n        .catch(e =>{\n          console.log(e);\n        })\n    },\n     // ดึงข้อมูล timeTable ใส่ combobox\n    getTimeTables() {\n      http\n        .get(\"/timetable\")\n        .then(response => {\n          this.timeTables = response.data;\n          console.log(response.data);\n        })\n        .catch(e => {\n          console.log(e);\n        })\n    },\n    findCustomer() {\n      http\n        .get(\"/customer/\" + this.reservation.customerId)\n        .then(response => {\n          console.log(response);\n          if (response.data != null) {\n            this.customerName = response.data.customername;\n            this.customerCheck = response.status;\n          } else {\n            this.clear()\n          }          \n        })\n        .catch(e => {\n          console.log(e);\n        });\n      this.submitted = true;\n    },\n      saveReservation() {\n      http\n        .post(\"/reservation/\" +\n            this.reservation.customerId +\n            \"/\" +\n            this.reservation.fieldCategoryId +\n            \"/\" +\n            this.reservation.timeTableId +\n            \"/\" +\n            this.reservation.employeeId +\n            \"/\" +\n             this.date,\n          this.reservation\n        )\n        .then(response => {\n          console.log(response);\n          alert(\"บันทึกสำเร็จ\");\n          this.$router.push(\"/viewreserve\");\n        })\n        .catch(e => {\n          console.log(e);\n        });\n      this.submitted = true;\n\n    },\n    viewReserve(){\n      this.$router.push(\"/viewreserve\");\n    },\n    clear() {\n      this.$refs.form.reset();\n     \n     this.customerCheck = false;\n    },\n    pushReserve(){\n      this.$router.push(\"/reservation\");\n    },\n    pushBorrow(){\n      this.$router.push(\"/borrow\");\n    },\n    pushCustomer(){\n      this.$router.push(\"/customer\");\n    },\n    pushEmployee(){\n      this.$router.push(\"/employee\");\n    },\n    pushPayment(){\n      this.$router.push(\"/paymentmember\");\n    },\n    pushSportEquipment(){\n      this.$router.push(\"/sportequipment\");\n    },\n\n    refreshList() {\n      this.getFieldCategorys();\n      this.getTimeTables();\n      this.getEmployees();\n    }\n    \n    /* eslint-enable no-console */\n  },\n  mounted() {\n      this.getFieldCategorys();\n      this.getTimeTables();\n      this.getEmployees();\n  }\n}\n",{"version":3,"sources":["ReserveTheField.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6IA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ReserveTheField.vue","sourceRoot":"src/components","sourcesContent":["<template>\n<v-container>\n<v-app-bar style = \"background: white;\" app>\n      <v-toolbar-title  class=\"headline text-uppercase\" >\n        <span class=\"font-weight\">SportStaduim</span>   \n      </v-toolbar-title>\n      <v-row justify=\"center\" style=\"margin-right:190px\">\n      <v-btn-toggle group>\n      <v-btn @click=\"pushReserve\" color=\"#00E676\" style=\"color:#000000\">จองสนาม</v-btn>\n      <v-btn @click=\"pushBorrow\" color=\"#76FF03\" style=\"color:#000000\">ยืมอุปกรณ์</v-btn>\n      <v-btn @click=\"pushCustomer\" color=\"#00E676\" style=\"color:#000000\">สมัครสมาชิก</v-btn>\n      <v-btn @click=\"pushEmployee\" color=\"#76FF03\" style=\"color:#000000\">ข้อมูลพนักงาน</v-btn>\n      <v-btn @click=\"pushPayment\" color=\"#00E676\" style=\"color:#000000\">ชำระเงินค่าสมาชิก</v-btn>\n      <v-btn @click=\"pushSportEquipment\" color=\"#76FF03\" style=\"color:#000000\">ข้อมูลอุปกรณ์</v-btn>\n      </v-btn-toggle>\n      </v-row>\n  </v-app-bar>\n<v-card style=\"width:70%; margin:auto; background-color:#FFFFFF\">\n  <v-container>\n    <v-layout text-center wrap>\n      <v-flex mb-4>\n        <br />\n        <span class=\"mdi mdi-calendar mdi-48px \"></span>\n        <h1 class=\"display-1 font-weight-bold mb-3\">แบบฟอร์มบันทึกการจองสนามกีฬา</h1>\n      </v-flex>\n    </v-layout>\n    \n    <v-row justify=\"center\">\n      <v-col cols=\"5\">\n        <v-form v-model=\"valid\" ref=\"form\">\n          <v-row justify=\"center\">\n            <v-col cols=\"10\">\n              <v-text-field\n                clearable\n                label=\"ID ผู้ใช้บริการ\"\n                prepend-icon= \"mdi mdi-account\"\n                v-model=\"reservation.customerId\"\n                :rules=\"[(v) => !!v || 'Item is required']\"\n                required\n              ></v-text-field>\n              <p v-if=\"customerCheck != ''\">ชื่อผู้ใช้บริการ : {{customerName}}</p>\n            </v-col>\n            <v-col cols=\"2\">\n              <div class=\"my-2\">\n                <v-btn @click=\"findCustomer\" depressed large color=\"#00E676\" style=\"color:#000000\">ยืนยัน</v-btn>\n              </div>\n            </v-col>\n          </v-row>\n\n          <v-row>\n              <v-col cols=\"10\">\n                <v-select\n                  label=\"พนักงานที่ทำรายการ\"\n                  prepend-icon= \"mdi mdi-account-card-details\"\n                  clearable\n                  v-model=\"reservation.employeeId\"\n                  :items=\"employees\"\n                  item-text=\"employeename\"\n                  item-value=\"employeeid\"\n                  :rules=\"[(v) => !!v || 'Item is required']\"\n                  required\n                ></v-select>\n              </v-col>\n            </v-row>\n\n            <v-row>\n              <v-col cols=\"10\">\n                <v-select\n                  label=\"เลือกประเภทสนาม\"\n                  prepend-icon= \"mdi mdi-football\"\n                  clearable\n                  v-model=\"reservation.fieldCategoryId\"\n                  :items=\"fieldCategorys\"\n                  item-text=\"field\"\n                  item-value=\"fieldid\"\n                  :rules=\"[(v) => !!v || 'Item is required']\"\n                  required\n                ></v-select>\n              </v-col>\n            </v-row>\n            <v-row justify=\"center\">\n              <v-col cols=\"20\">\n                <v-menu\n                  v-model=\"menu\"\n                  :close-on-content-click=\"false\"\n                  :nudge-right=\"40\"\n                  transition=\"scale-transition\"\n                  offset-y\n                  min-width=\"290px\"\n                >\n        <template v-slot:activator=\"{ on }\">\n          <v-text-field style= \"width:82%\"\n            prepend-icon= \"mdi mdi-calendar\"\n            v-model=\"date\"\n            label=\"เลือกวันที่จองสนาม\"\n            clearable\n            readonly\n            v-on=\"on\"\n          ></v-text-field>\n        </template>\n        <v-date-picker v-model=\"date\" @input=\"menu = false\"></v-date-picker>\n      </v-menu>\n\n              </v-col>\n            </v-row>\n            <v-row>\n              <v-col cols=\"10\">\n                <v-select\n                  label=\"เลือกเวลาจองสนาม\"\n                  clearable\n                  prepend-icon= \"mdi mdi-clock\"\n                  v-model=\"reservation.timeTableId\"\n                  :items=\"timeTables\"\n                  item-text=\"timeString\"\n                  item-value=\"timetableid\"\n                  :rules=\"[(v) => !!v || 'Item is required']\"\n                  required\n                  style =\"margin-top:-30px\"\n                ></v-select>\n              </v-col>\n            </v-row>\n            \n            <v-row justify=\"center\">\n              <v-col cols=\"10\">\n                <v-btn-toggle group >\n                  <v-btn @click=\"saveReservation\" style=\"color:#FFFFFF\" :class=\"{ red: !valid, green: valid } \">บันทึก</v-btn>\n                  <v-btn @click=\"clear\" color=\"#D50000\" style=\"color:#FFFFFF\">ยกเลิก</v-btn>\n                  <v-btn @click=\"viewReserve\" color=\"#000000\" style=\"color:#FFFFFF\">ดูบันทึก</v-btn>\n                </v-btn-toggle>\n              </v-col>\n            </v-row>\n            <br />\n        </v-form>\n      </v-col>\n    </v-row>\n  </v-container>\n  </v-card>\n  </v-container>\n</template>\n\n<script>\nimport http from \"../http-common\";\nexport default {\n  name: 'reserveTheField',\n  components: {\n    },\n   data () {\n    return { \n      date: new Date().toISOString().substr(0, 10),\n      menu: false,\n       reservation: {\n        customerId: null,\n        fieldCategoryId: null,\n        timeTableId: null,\n        employeeId: null\n      },\n      fieldCategorys: null,\n      timeTables: null,\n      employees: null,\n      valid: false,\n      customerCheck: false,\n      customerName: null,\n    }\n  },\n  methods: {\n    /* eslint-disable no-console */\n     // ดึงข้อมูล fieldCategory ใส่ combobox\n    getFieldCategorys(){\n      http\n        .get(\"/fieldcate\")\n        .then(response =>{\n            this.fieldCategorys = response.data;\n            console.log(response.data)\n        })\n        .catch(e => {\n            console.log(e);\n        })\n    },\n     // ดึงข้อมูล employee ใส่ combobox\n    getEmployees(){\n      http\n        .get(\"/employee\")\n        .then(response => {\n          this.employees = response.data;\n          console.log(response.data);\n        })\n        .catch(e =>{\n          console.log(e);\n        })\n    },\n     // ดึงข้อมูล timeTable ใส่ combobox\n    getTimeTables() {\n      http\n        .get(\"/timetable\")\n        .then(response => {\n          this.timeTables = response.data;\n          console.log(response.data);\n        })\n        .catch(e => {\n          console.log(e);\n        })\n    },\n    findCustomer() {\n      http\n        .get(\"/customer/\" + this.reservation.customerId)\n        .then(response => {\n          console.log(response);\n          if (response.data != null) {\n            this.customerName = response.data.customername;\n            this.customerCheck = response.status;\n          } else {\n            this.clear()\n          }          \n        })\n        .catch(e => {\n          console.log(e);\n        });\n      this.submitted = true;\n    },\n      saveReservation() {\n      http\n        .post(\"/reservation/\" +\n            this.reservation.customerId +\n            \"/\" +\n            this.reservation.fieldCategoryId +\n            \"/\" +\n            this.reservation.timeTableId +\n            \"/\" +\n            this.reservation.employeeId +\n            \"/\" +\n             this.date,\n          this.reservation\n        )\n        .then(response => {\n          console.log(response);\n          alert(\"บันทึกสำเร็จ\");\n          this.$router.push(\"/viewreserve\");\n        })\n        .catch(e => {\n          console.log(e);\n        });\n      this.submitted = true;\n\n    },\n    viewReserve(){\n      this.$router.push(\"/viewreserve\");\n    },\n    clear() {\n      this.$refs.form.reset();\n     \n     this.customerCheck = false;\n    },\n    pushReserve(){\n      this.$router.push(\"/reservation\");\n    },\n    pushBorrow(){\n      this.$router.push(\"/borrow\");\n    },\n    pushCustomer(){\n      this.$router.push(\"/customer\");\n    },\n    pushEmployee(){\n      this.$router.push(\"/employee\");\n    },\n    pushPayment(){\n      this.$router.push(\"/paymentmember\");\n    },\n    pushSportEquipment(){\n      this.$router.push(\"/sportequipment\");\n    },\n\n    refreshList() {\n      this.getFieldCategorys();\n      this.getTimeTables();\n      this.getEmployees();\n    }\n    \n    /* eslint-enable no-console */\n  },\n  mounted() {\n      this.getFieldCategorys();\n      this.getTimeTables();\n      this.getEmployees();\n  }\n}\n</script>\n"]}]}